---
source: Article
categories: ["Frameworks", "Apprentissage"]
date: 17/05/2025
image: ./images/article-07.png
banner: /images/article-07.webp
title: React Server Components et Astro
infos: Petites explications sur les React Server Components avec React et Astro
rang: 7
---
<img src={frontmatter.banner} alt={frontmatter.title} width={800} className="rounded-3xl mx-auto" />

## React Server Components et Astro : C‚Äôest quoi la diff√©rence ?


Aujourd‚Äôhui petites explications sur les React Server Components.
Dan Abramov (de l'√©quipe React) a r√©cemment utilis√© Astro pour clarifier certains concepts de RSC. Et si Astro √©tait en fait le meilleur moyen de comprendre tout ce bazar de RSC ?

### Astro comme tremplin vers les RSC
Je vais vous dire un truc : si vous avez d√©j√† touch√© √† Astro, m√™me un peu, vous comprenez d√©j√† presque tout du concept des RSC. Et oui !

### Dans le monde Astro, vous avez :
1. Les composants Astro (fichiers .astro) Ils ne mettent JAMAIS les pieds c√¥t√© client. Jamais. Leur code reste sagement sur le serveur. √áa veut dire qu'ils peuvent faire des trucs un peu cool comme lire directement dans votre base de donn√©es ou acc√©der √† vos API internes sans exposer de secrets. Leur job ? Cracher du bon vieux HTML.
2. Les √Ælots clients (Client Islands) C'est l√† que vous placez vos composants React/Vue/Svelte qui ont besoin d'interactivit√©. Le truc top avec Astro, c'est que vous devez explicitement dire "celui-l√†, il sera interactif" avec des directives comme `client:load` Pas d'ambigu√Øt√© possible.

### Maintenant, dans l'univers React Server Components :
* Server Components : L'√©quivalent des composants Astro
* Client Components : L'√©quivalent des √Ælots clients
C'est presque comme si les deux √©quipes avaient partag√© leurs id√©es autour d'une bi√®re !

### Les diff√©rences ? Plus une question de style que de fond
L√† o√π √ßa diverge, c'est surtout dans la forme :
* Avec RSC, tout est dans le m√™me langage - juste des fonctions React. Pas de fichiers sp√©ciaux comme .astro.
* Pour marquer la fronti√®re serveur/client, RSC utilise la directive 'use client' en haut de fichier, alors qu'Astro utilise des fichiers distincts et des directives comme `client:load`

Cette approche "tout est React" des RSC est √† double tranchant :
* La gal√®re : au d√©but, vous allez constamment vous demander "mais je suis o√π l√† ? c√¥t√© serveur ou client ?"
* La magie : une fois qu'on a pig√©, les fronti√®res deviennent super fluides et on peut naviguer facilement entre les deux mondes.

### Pourquoi RSC pourrait √™tre mieux qu'Astro dans certains cas
Je dois l'admettre que RSC r√©sout quelques probl√®mes :
* Vous avez d√©j√† commenc√© √† coder un composant Astro pour r√©aliser ensuite "merde, il me faut de l'interactivit√©" ? Avec RSC, passer du serveur au client est moins douloureux. Juste un petit 'use client' et hop, le tour est jou√©.
* On gal√©re √† faire communiquer des √Ælots React entre eux dans Astro. Avec RSC, c'est un arbre React unique, donc les contextes et autres fonctionnent naturellement.
* La navigation dans Astro, c'est du rechargement de page par d√©faut. RSC, avec son format bas√© sur JSON, vous donne cette sensation d'app monopage tout en gardant les avantages d'une appli multipage.
* Et puis, rafra√Æchir juste un bout de composant serveur sans tout recharger ? RSC le fait naturellement.

### Mais Astro ne se laisse pas faire !
Astro n'est pas rest√© les bras crois√©s, et franchement, certaines de leurs solutions sont carr√©ment cool :
* Les transitions de vue : Pour avoir cette sensation d'app sans rechargement brutal.
* Les √Ælots de serveur (server:defer) : √áa permet d'afficher une page imm√©diatement avec un fallback pendant que les donn√©es se chargent en arri√®re-plan. C'est un peu leur version de Suspense.
* Les Actions : Fini le boilerplate des endpoints API ! Vous d√©finissez une fonction c√¥t√© serveur, vous la typez avec Zod, et vous pouvez l'appeler directement depuis le client ou m√™me des formulaires HTML classiques. Propre, net et sans bavure.
* Les Sessions : Une nouvelle feature pour stocker des donn√©es c√¥t√© serveur entre les requ√™tes. Id√©al pour les paniers d'achat ou les pr√©f√©rences utilisateur sans surcharger les cookies.

Au final, que choisir ?
Personnellement ? J'utilise les deux selon les projets.

Si vous d√©butez avec les serveur/client ou si vous pr√©f√©rez des fronti√®res claires entre les deux, Astro est probablement votre meilleur pari.

Si vous √™tes d√©j√† dans l'√©cosyst√®me React et que vous cherchez une solution tout-en-un, les RSC pourraient √™tre ce qu'il vous faut.

L‚Äôavenir du web semble se diriger vers cette approche hybride, avec une s√©paration plus intelligente entre ce qui tourne sur le serveur et ce qui tourne chez l'utilisateur.

See you soon pour d'autres aventures Astrales ! üßëüèª‚ÄçüöÄ üöÄ

L'article de Dan Abramov: https://overreacted.io/rsc-for-astro-developers/
