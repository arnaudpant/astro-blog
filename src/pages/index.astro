---
import Main from '../components/Main.astro';
import Layout from '../layouts/Layout.astro';
import PostList from "../components/PostList.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import LogoAstroReact from '../components/LogoAstroReact.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../lib/constantes';
import SearchBar from '../components/SearchBar.astro';

export const prerender = true
const posts = await getCollection("posts")
---

<Layout title={SITE_TITLE} description={SITE_DESCRIPTION}>
	<Main>
		<h1 class="text-title text-xl md:text-3xl text-center pb-10 md:pb-6">Blog et carnet de notes d'un développeur web</h1>
		<div class="flex justify-center mb-6">
			<SearchBar />
		</div>
		<p class="text-textgrey text-center pb-6">Derniers articles 👇🏻</p>
		<PostList posts={posts} home={true} />
		<a href="/blog"><p class="text-textgrey text-center pb-6">Tous les articles 👉🏻</p></a>
		<div class="flex justify-center mt-4">
			<LogoAstroReact taille={80} />
		</div>
	</Main>
</Layout>
