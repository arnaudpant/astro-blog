---
import {type CollectionEntry} from "astro:content"
import {Image} from "astro:assets"
import CategoryList from "./CategoryList.astro"

type Props = {
    post: CollectionEntry<"posts">
}

const { post } = Astro.props
---

<article class="max-w-lg">
    <a
        href={`/blog/${post.slug}`}
        aria-label={`Read more about ${post.data.title}`}
    >
        <div class="pb-2">
            <span class="text-textgreen text-xs">
                {post.data.date}
            </span>
        </div>
        <Image
            src={post.data.image}
            alt={post.data.title}
            width={600}
            height={600 / 1.5}
            format="webp"
            class="rounded-2xl shadow-lg aspect-thumbnail object-cover"
        />
        <div class="flex flex-col justify-between shadow-md rounded-b-lg min-h-48 p-2">
            <p class="text-title text-2xl mb-5 line-clamp-2 text-left">
                {post.data.title}
            </p>
            <p class="text-md text-textgrey/70 pb-2">{post.data.infos}</p>
            <div class="">
                <CategoryList categories={post.data.categories} />
            </div>

        </div>
    
    </a>

</article>